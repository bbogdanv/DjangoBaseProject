# Django Base Project

Production-ready –±–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω Django –ø—Ä–æ–µ–∫—Ç–∞ —Å Docker, PostgreSQL, Nginx –∏ –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker –∏ Docker Compose
- Python 3.12+ (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞–∫ —à–∞–±–ª–æ–Ω
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env`:
   ```bash
   cp .env.example .env
   ```
3. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (–æ—Å–æ–±–µ–Ω–Ω–æ `SECRET_KEY` –∏ `POSTGRES_PASSWORD`)
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:
   ```bash
   make build
   make up
   ```
5. –°–æ–∑–¥–∞–π—Ç–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
   ```bash
   make superuser
   ```

### –î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é

- Frontend/API: `http://localhost`
- Admin –ø–∞–Ω–µ–ª—å: `http://localhost/admin`
- Health check: `http://localhost/health`
- Readiness check: `http://localhost/readiness`

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
DjangoBaseProject/
‚îú‚îÄ‚îÄ backend/              # Django –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ src/             # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config/      # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Django
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ apps/        # Django apps
‚îÇ   ‚îú‚îÄ‚îÄ requirements/    # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ scripts/         # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile        # Docker –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ reverse-proxy/        # Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ docker/              # Docker Compose —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ docs/                # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ Makefile             # –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–µ–∫—Ç–æ–º
```

## üõ† –ö–æ–º–∞–Ω–¥—ã Makefile

```bash
make help          # –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
make build         # –°–æ–±—Ä–∞—Ç—å Docker –æ–±—Ä–∞–∑—ã
make up            # –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã
make up-dev        # –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤ dev —Ä–µ–∂–∏–º–µ (—Å hot reload)
make up-prod       # –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤ production —Ä–µ–∂–∏–º–µ
make down          # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã
make migrate       # –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
make test          # –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
make lint          # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–¥ –ª–∏–Ω—Ç–µ—Ä–∞–º–∏
make shell         # Django shell
make superuser     # –°–æ–∑–¥–∞—Ç—å —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏–π

### Development

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `docker-compose.dev.yml` –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
```bash
make up-dev
```

–í dev —Ä–µ–∂–∏–º–µ:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ (`AUTO_MIGRATE=true`)
- Hot reload (volumes —Å –∫–æ–¥–æ–º)
- Debug —Ä–µ–∂–∏–º –≤–∫–ª—é—á–µ–Ω
- –ö–æ–Ω—Å–æ–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### Production

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `docker-compose.prod.yml` –¥–ª—è production:
```bash
make up-prod
```

–í prod —Ä–µ–∂–∏–º–µ:
- –ú–∏–≥—Ä–∞—Ü–∏–∏ –≤—Ä—É—á–Ω—É—é (`AUTO_MIGRATE=false`)
- Gunicorn WSGI —Å–µ—Ä–≤–µ—Ä
- –í—Å–µ security settings –≤–∫–ª—é—á–µ–Ω—ã
- JSON structured logging
- Sentry –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## üì¶ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Python**: 3.12
- **Django**: 5.2 LTS
- **PostgreSQL**: 16
- **Nginx**: 1.28-alpine
- **Gunicorn**: 22.x
- **Django REST Framework**: 3.15+

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è production

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–∏–ª—å–Ω—ã–π `SECRET_KEY` (–º–∏–Ω–∏–º—É–º 50 —Å–∏–º–≤–æ–ª–æ–≤)
2. –£–∫–∞–∂–∏—Ç–µ `ALLOWED_HOSTS` —Å –≤–∞—à–∏–º–∏ –¥–æ–º–µ–Ω–∞–º–∏
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ `CORS_ALLOWED_ORIGINS` –∏ `CSRF_TRUSTED_ORIGINS`
4. –í–∫–ª—é—á–∏—Ç–µ HTTPS (`SECURE_SSL_REDIRECT=True`)
5. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Sentry –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –æ—à–∏–±–æ–∫

–ü–æ–¥—Ä–æ–±–Ω–µ–µ —Å–º. [SECURITY.md](docs/SECURITY.md)

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
make test          # –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã
pytest             # –ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ pytest
```

## üìù –ú–∏–≥—Ä–∞—Ü–∏–∏

```bash
make makemigrations    # –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
make migrate           # –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
```

**–í–∞–∂–Ω–æ**: –í production –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤—Ä—É—á–Ω—É—é –∏–ª–∏ —á–µ—Ä–µ–∑ CI/CD, –Ω–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

## üîç –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–õ–æ–≥–∏ –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑:
```bash
make logs              # –í—Å–µ –ª–æ–≥–∏
make logs-backend      # –¢–æ–ª—å–∫–æ backend
```

–í production –ª–æ–≥–∏ –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å log aggregators.

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [ADR –¥–æ–∫—É–º–µ–Ω—Ç—ã](docs/ADR/) - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
- [SECURITY.md](docs/SECURITY.md) - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ –ë–î

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
- PostgreSQL –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω: `make ps`
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ —É–∫–∞–∑–∞–Ω `DATABASE_URL` –≤ `.env`
- –ü–∞—Ä–æ–ª—å –≤ `DATABASE_URL` URL-—ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω, –µ—Å–ª–∏ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã

### –ü—Ä–æ–±–ª–µ–º—ã —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏

–ï—Å–ª–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
```bash
make migrate
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å static files

```bash
make collectstatic
```

## ü§ù –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### Pre-commit hooks

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ pre-commit hooks:
```bash
pip install pre-commit
pre-commit install
```

### Code style

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç:
- **Black** –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **Ruff** –¥–ª—è –ª–∏–Ω—Ç–∏–Ω–≥–∞
- **MyPy** –¥–ª—è type checking (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```bash
make lint          # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
make lint-fix      # –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

[–£–∫–∞–∑–∞—Ç—å –ª–∏—Ü–µ–Ω–∑–∏—é]

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

–≠—Ç–æ—Ç —à–∞–±–ª–æ–Ω —Å–æ–∑–¥–∞–Ω –Ω–∞ –æ—Å–Ω–æ–≤–µ best practices –¥–ª—è Django production-ready –ø—Ä–æ–µ–∫—Ç–æ–≤.
