# ADR-0001: Технологический базис проекта

## Статус

Принято

## Контекст

Необходимо определить технологический стек для базового Django шаблона, который будет использоваться как стартовая точка для новых проектов. Выбор должен быть:
- Стабильным и долгосрочно поддерживаемым
- Production-ready из коробки
- Следовать best practices
- Использовать pinned major versions для предсказуемости

## Решение

### Основной стек

- **Python**: 3.12 (стабильная версия, поддерживается Django 5.2)
- **Django**: 5.2 LTS (долгосрочная поддержка до апреля 2028)
- **PostgreSQL**: 16 (стабильная, проверенная версия)
- **Nginx**: 1.28-alpine (reverse proxy, стабильная ветка)
- **Gunicorn**: 22.x (WSGI сервер для production)

### Принципы версионирования

- Всегда использовать **pinned major versions** (например, `Django>=5.2,<5.3`)
- Избегать `latest` тегов в Docker образах
- Микро-версии обновляются по мере выхода патчей безопасности

### Обоснование выбора

1. **Django 5.2 LTS** вместо 6.0:
   - LTS гарантирует поддержку до 2028 года
   - Стабильность важнее новых фич для базового шаблона
   - Большинство проектов не требуют последних фич

2. **PostgreSQL 16** вместо 18:
   - Проверенная стабильность
   - Широкая поддержка в экосистеме
   - Долгая поддержка

3. **Python 3.12**:
   - Поддерживается Django 5.2
   - Стабильная версия
   - Хорошая производительность

## Последствия

### Положительные

- Предсказуемость обновлений
- Долгосрочная поддержка
- Стабильность для production

### Отрицательные

- Может не иметь самых новых фич
- Требуется планирование миграций на новые major версии

### Митигация

- Регулярный review версий (раз в квартал)
- Документирование процесса обновления
- Тестирование совместимости перед обновлением

## Альтернативы

### Рассмотренные варианты

1. **Django 6.0** вместо 5.2 LTS:
   - ❌ Не LTS, потребует обновления раньше
   - ❌ Может иметь нестабильности

2. **PostgreSQL 18**:
   - ❌ Слишком новая, может иметь проблемы совместимости
   - ✅ Можно рассмотреть через 6-12 месяцев

3. **Python 3.13/3.14**:
   - ❌ Может иметь проблемы совместимости с некоторыми пакетами
   - ✅ Можно обновить после стабилизации экосистемы

## Ссылки

- [Django Release Schedule](https://www.djangoproject.com/download/)
- [PostgreSQL Versioning](https://www.postgresql.org/support/versioning/)
- [Python Release Schedule](https://devguide.python.org/versions/)
